@use "../variables" as *;
@use "../mixins" as *;
@use "sass:map";

//*******************************************************************
// # UTILITY
//*******************************************************************
/* ## SPACING
***********************************************/
$space-step: 0.5rem;
$space-max: 20;

// --- Generate spacing utilities --- //
@mixin generate-spacing($prefix, $property...) {
  @for $i from 0 through $space-max {
    .#{$prefix}-#{$i} {
      @each $prop in $property {
        #{$prop}: #{$i * $space-step} !important;
      }
    }
  }
}

@mixin responsive-spacing($prefix, $property...) {
  @include generate-spacing($prefix, $property...);

  @each $label, $size in $breakpoints {
    @media (min-width: #{$size}) {
      @for $i from 0 through $space-max {
        .#{$prefix}-#{$label}-#{$i} {
          @each $prop in $property {
            #{$prop}: #{$i * $space-step} !important;
          }
        }
      }
    }
  }
}

/* ## MARGIN, PADDING
***********************************************/
@include responsive-spacing("m", margin);
@include responsive-spacing("mt", margin-top);
@include responsive-spacing("mb", margin-bottom);
@include responsive-spacing("ml", margin-left);
@include responsive-spacing("mr", margin-right);
@include responsive-spacing("mx", margin-left, margin-right);
@include responsive-spacing("my", margin-top, margin-bottom);

@include responsive-spacing("p", padding);
@include responsive-spacing("pt", padding-top);
@include responsive-spacing("pb", padding-bottom);
@include responsive-spacing("pl", padding-left);
@include responsive-spacing("pr", padding-right);
@include responsive-spacing("px", padding-left, padding-right);
@include responsive-spacing("py", padding-top, padding-bottom);

/* ## DISPLAY
***********************************************/
$display-utils: (
    none: none,
    block: block,
    inline: inline,
    inline-block: inline-block,
    flex: flex,
    grid: grid
);

// ▼ 共通クラス（例：.d-block, .d-none）
@each $key, $value in $display-utils {
    .d-#{$key} {
        display: #{$value} !important;
    }
}

// ▼ ブレークポイント別クラス（例：.d-md-none, .d-lg-flex）
@each $label, $size in $breakpoints {
    @media (min-width: #{$size}) {
        @each $key, $value in $display-utils {
            .d-#{$label}-#{$key} {
                display: #{$value} !important;
            }
        }
    }
}

/* ## DISPLAY FLEX
***********************************************/
.flex-row {
    flex-direction: row !important;
}
.flex-column {
    flex-direction: column !important;
}
.flex-wrap {
    flex-wrap: wrap !important;
}

.justify-start {
    justify-content: flex-start !important;
}
.justify-center {
    justify-content: center !important;
}
.justify-end {
    justify-content: flex-end !important;
}
.justify-between {
    justify-content: space-between !important;
}

.align-start {
    align-items: flex-start !important;
}
.align-center {
    align-items: center !important;
}
.align-end {
    align-items: flex-end !important;
}

/* ## GRID SYSTEM (Bootstrap風)
***********************************************/
$col-max: 12;
$col-percentage: 100% / $col-max;

.row {
    display: grid;
    grid-template-columns: repeat($col-max, 1fr);
    gap: 1rem; // 初期gap値（調整OK）
}

// --- COLUMN --- //
@for $i from 1 through $col-max {
    .col-#{$i} {
        grid-column: span $i;
    }
}

@each $label, $size in $breakpoints {
    @media (min-width: #{$size}) {
        @for $i from 1 through $col-max {
            .col-#{$label}-#{$i} {
                grid-column: span $i;
            }
        }
    }
}

.col-auto {
    grid-column: auto;
}

@each $label, $size in $breakpoints {
    @media (min-width: #{$size}) {
        .col-#{$label}-auto {
            grid-column: auto;
        }
    }
}

/* ## OFFSET (grid-column-start)
***********************************************/
@for $i from 1 through ($col-max - 1) {
    .offset-#{$i} {
        grid-column-start: $i + 1;
    }
}

@each $label, $size in $breakpoints {
    @media (min-width: #{$size}) {
        @for $i from 1 through ($col-max - 1) {
            .offset-#{$label}-#{$i} {
                grid-column-start: $i + 1;
            }
        }
    }
}

/* ## ORDER
***********************************************/
$order-max: 12;

@for $i from 1 through $order-max {
    .order-#{$i} {
        order: $i;
    }
}
.order-first {
    order: -1;
}
.order-last {
    order: 999;
}

@each $label, $size in $breakpoints {
    @media (min-width: #{$size}) {
        @for $i from 1 through $order-max {
            .order-#{$label}-#{$i} {
                order: $i;
            }
        }
        .order-#{$label}-first {
            order: -1;
        }
        .order-#{$label}-last {
            order: 999;
        }
    }
}

/* ## GAP UTILITY (for grid & flex)
***********************************************/
$gap-step: 0.5rem;
$gap-max: 20;

@for $i from 0 through $gap-max {
  // 全方向
  .gap-#{$i} {
    gap: $i * $gap-step !important;
  }

  // 縦方向（row-gap）
  .gap-y-#{$i},
  .row-gap-#{$i} {
    row-gap: $i * $gap-step !important;
  }

  // 横方向（column-gap）
  .gap-x-#{$i},
  .col-gap-#{$i} {
    column-gap: $i * $gap-step !important;
  }

  // --- ブレークポイント別 ---
  @each $label, $size in $breakpoints {
    @media (min-width: #{$size}) {
        .gap-#{$label}-#{$i} {
        gap: $i * $gap-step !important;
        }
        .gap-x-#{$label}-#{$i} {
        column-gap: $i * $gap-step !important;
        }
        .gap-y-#{$label}-#{$i} {
        row-gap: $i * $gap-step !important;
        }
    }
    }
}


/* ## TEXT ALIGN
***********************************************/
.text-left {
    text-align: left !important;
}
.text-center {
    text-align: center !important;
}
.text-right {
    text-align: right !important;
}

@each $label, $size in $breakpoints {
    @media (min-width: #{$size}) {
        .#{$label}-text-left {
            text-align: left !important;
        }
        .#{$label}-text-center {
            text-align: center !important;
        }
        .#{$label}-text-right {
            text-align: right !important;
        }
    }
}

/* ## WIDTH, HEGHT
***********************************************/
.w-100 {
    width: 100% !important;
}
.h-100 {
    height: 100% !important;
}

/* ## COLOR
***********************************************/
.white {
    color: $white !important;
}
.black {
    color: $black !important;
}
.blue {
    color: $blue !important;
}
.pink {
    color: $pink !important;
}

/* ## BG COLOR
***********************************************/
.bg-blue {
    background-color: $blue !important;
}

// ## MOBILE // *************************************************>

//*******************************************************************
// # コメント h1
//*******************************************************************

/* ## コメント h2
***********************************************/

/* ### コメント h3
--------------------------------------*/

/**** #### h4 ****/

/* ##### h5 */
